plugins {
  id 'java-library'
  id 'scala'
  id 'maven-publish'
  id 'signing'
  id 'com.github.maiflai.scalatest'
// TODO: when scalajs plugin is applied here, Gradle errors out
// failing to load DependencyVersion - is it because this is the project that has it?
//  id 'org.podval.tools.scalajs'
// as a result, this is the only subproject of the 'opentorah' that uses maifli ScalaTest plugin...
}

description = 'Open Torah Util'

apply from: '../configure.gradle'

dependencies {
  // Optional dependencies:
  // - are declared here as 'compileOnly';
  // - need to be supplied as 'runtimeOnly' ('implementation'?) where needed.
  compileOnly libs.zio.http
  compileOnly libs.zio.core
  compileOnly libs.zio.streams
  compileOnly libs.logback
  compileOnly libs.logstash
  compileOnly libs.google.cloud.storage

  // Needed to compile classes using Gradle, but does not become a dependency:
  compileOnly gradleApi()

  // for scalatest reports when using maiflai ScalaTest plugin:
  testImplementation libs.flexmark.core
  testImplementation libs.flexmark.profile.pegdown

  testImplementation libs.zio.test
  //testImplementation libs.zio.prelude
}
